(this.webpackJsonpsocialnetwork=this.webpackJsonpsocialnetwork||[]).push([[4],{318:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var o=s(5),a=s(22),n=(s(0),s(29)),r=s(18),c=s(1),i=["isAuth"];function u(t){return Object(r.b)(l,{})((function(e){var s=e.isAuth,r=Object(a.a)(e,i);return s?Object(c.jsx)(t,Object(o.a)({},r)):Object(c.jsx)(n.a,{to:"/login"})}))}var l=function(t){return{isAuth:t.auth.isAuth}}},320:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1tQuT",userName:"ProfileInfo_userName__YE9xS",photo:"ProfileInfo_photo__tbHHZ",avatar:"ProfileInfo_avatar__1w2aR",updateImg:"ProfileInfo_updateImg__1sp_y",editableStatus:"ProfileInfo_editableStatus__8TbpA",update:"ProfileInfo_update__3UpD8",span:"ProfileInfo_span__2gc3t",formContacts:"ProfileInfo_formContacts__1q-ZJ"}},333:function(t,e,s){t.exports={postBlock:"MyPosts_postBlock__3Bvaa",posts:"MyPosts_posts__3VZBU"}},334:function(t,e,s){t.exports={item:"Post_item__cvtHz"}},335:function(t,e,s){t.exports={main:"Profile_main__2-AfX"}},339:function(t,e,s){"use strict";s.r(e);var o=s(100),a=s(101),n=s(139),r=s(137),c=s(0),i=s.n(c),u=s(322),l=s(325),b=s(320),d=s.n(b),p=s(64),j=s(1),h=["status","updateStatus","isOwner"],f=i.a.memo((function(t){var e=t.status,s=t.updateStatus,o=t.isOwner,a=(Object(u.a)(t,h),Object(c.useState)(e)),n=Object(l.a)(a,2),r=n[0],i=n[1],b=Object(c.useState)(!1),p=Object(l.a)(b,2),f=p[0],m=p[1];Object(c.useEffect)((function(){i(e)}),[e]);return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:d.a.editableStatus,children:[o&&!f&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{className:d.a.span,onDoubleClick:function(){m(!0)},children:e||"----"}),Object(j.jsx)("div",{className:d.a.update,children:"Double click to update status."})]}),o&&f&&Object(j.jsx)("input",{onChange:function(t){i(t.currentTarget.value)},autoFocus:!0,onBlur:function(){m(!1),s(r)},value:r}),!o&&Object(j.jsx)("span",{className:d.a.span,children:e||""})]})})})),m=s.p+"static/media/gray-user.6537f30a.png",O=s.p+"static/media/uploadPhoto.039d2e8c.png",x=function(t){var e=t.profile,s=t.isOwner,o=t.handleEditContacts,a=t.contactsKeysArr;return Object(j.jsxs)("div",{style:{margin:"8px 0px 8px 0px"},children:[e.aboutMe&&Object(j.jsxs)("div",{style:{maxWidth:"300px"},children:["About Me: ",Object(j.jsx)("p",{style:{margin:"4px 0px 4px 0px",width:"100%",wordBreak:"break-all"},children:e.aboutMe})]}),Object(j.jsxs)("div",{children:["Looking for a job: ",e.lookingForAJob?String(e.lookingForAJob):"false"]}),Object(j.jsx)("b",{children:"Contacts:"}),a.map((function(t){return e.contacts[t]?Object(j.jsxs)("div",{children:[t,":",Object(j.jsx)("a",{href:e.contacts[t],children:e.contacts[t]})]},t):void 0})),s&&Object(j.jsx)("button",{onClick:o,children:"Edit"})]})},v=s(18),g=s(336),k=s(97),_=function(t){var e=t.profile,s=t.setEdit,o=t.contactsKeysArr,a=Object(v.c)(),n={};o.forEach((function(t){n[t]=e.contacts[t]?e.contacts[t]:""}));var r=Object(g.a)({initialValues:{aboutMe:null!==e&&void 0!==e&&e.aboutMe?e.aboutMe:"",lookingForAJob:!(null===e||void 0===e||!e.lookingForAJob)&&e.lookingForAJob,facebook:e.contacts.facebook?e.contacts.facebook:"",website:e.contacts.website?e.contacts.website:"",vk:e.contacts.vk?e.contacts.vk:"",twitter:e.contacts.twitter?e.contacts.twitter:"",instagram:e.contacts.instagram?e.contacts.instagram:"",youtube:e.contacts.youtube?e.contacts.youtube:"",github:e.contacts.github?e.contacts.github:"",mainLink:e.contacts.mainLink?e.contacts.mainLink:""},validate:function(t){var e={},s=/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/;return o.forEach((function(o){if("string"===typeof t[o]){var a=t[o].toString();a.match(s)||""===a.trim()?delete e[o]:(console.log("valueError:!".concat(t[o],"!")),e[o]="incorrect URL adress")}})),t.aboutMe.length>201&&(e.aboutMe="max number of symbols"),e},onSubmit:function(t){var e=[];o.forEach((function(t,s){r.errors[t]&&(e[s]=t)})),r.errors.aboutMe&&e.push(r.errors.aboutMe),console.log("err"+e),e.length||(a(Object(k.g)(r.values)),s(!1))}});return console.log("Errors"+r.errors),Object(j.jsxs)("form",{style:{margin:"8px 0px 8px 0px"},className:d.a.formContacts,onSubmit:r.handleSubmit,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"aboutMe",children:"About me"}),Object(j.jsx)("textarea",{id:"aboutMe",name:"aboutMe",onChange:r.handleChange,value:r.values.aboutMe}),r.errors.aboutMe&&Object(j.jsx)("div",{style:{color:"red"},children:r.errors.aboutMe})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"lookingForAJob",children:"lookingForAJob"}),Object(j.jsx)("input",{id:"lookingForAJob",name:"lookingForAJob",type:"checkbox",onChange:r.handleChange,checked:r.values.lookingForAJob})]}),Object(j.jsx)("b",{children:"Contacts:"}),o.map((function(t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:t,children:t}),Object(j.jsx)("input",{id:t,name:t,type:"text",onChange:r.handleChange,value:String(r.values[t])}),r.errors[t]&&Object(j.jsx)("div",{style:{color:"red"},children:r.errors[t]})]},t)})),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})},P=["profile","status","updateStatus","isOwner","updatePhoto"],y=function(t){var e,s=t.profile,o=t.status,a=t.updateStatus,n=t.isOwner,r=t.updatePhoto,i=(Object(u.a)(t,P),Object(c.useState)(!1)),b=Object(l.a)(i,2),h=b[0],v=b[1];if(!s)return Object(j.jsx)(p.a,{});var g=s.photos.large;e=g?String(g):m;var k=Object.keys(s.contacts);return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:d.a.descriptionBlock,children:[Object(j.jsx)("div",{className:d.a.userName,children:s.fullName}),Object(j.jsxs)("div",{className:d.a.photo,children:[Object(j.jsx)("img",{className:d.a.avatar,src:e,alt:"(((((((("}),n&&Object(j.jsx)("div",{className:d.a.updateImg,children:Object(j.jsxs)("label",{htmlFor:"myfile",children:[Object(j.jsx)("img",{src:O}),Object(j.jsx)("input",{type:"file",accept:"image/*",onChange:function(t){var e;null!==(e=t.target.files)&&void 0!==e&&e.length&&r(t.target.files[0])},id:"myfile",name:"myfile"})]})})]}),Object(j.jsx)(f,{status:o,updateStatus:a,isOwner:n}),h?Object(j.jsx)(_,{setEdit:v,profile:s,contactsKeysArr:k}):Object(j.jsx)(x,{profile:s,isOwner:n,contactsKeysArr:k,handleEditContacts:function(){v(!0)}})]})})},w=i.a.memo(y),S=s(22),A=s(333),C=s.n(A),N=s(334),M=s.n(N),I=["message","likeCount"];function E(t){var e=t.message,s=t.likeCount;Object(S.a)(t,I);return Object(j.jsxs)("div",{className:M.a.item,children:[Object(j.jsx)("img",{src:"https://www.nj.com/resizer/zovGSasCaR41h_yUGYHXbVTQW2A=/1280x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg",alt:"wtf"}),e,Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"likes"}),s]})]})}var F=i.a.memo(E),B=s(135),J=s(136),z=s(90),U=s(89),D=["posts","addPost"],V=i.a.memo((function(t){var e=t.posts,s=t.addPost,o=(Object(S.a)(t,D),e.map((function(t){return Object(j.jsx)(F,{message:t.message,likeCount:t.likeCount},t.message)})));return Object(j.jsxs)("div",{className:C.a.postBlock,children:[Object(j.jsx)("h3",{children:"My posts"}),Object(j.jsx)(H,{onSubmit:function(t){s(t.newPostBody),t.newPostBody=""}}),Object(j.jsx)("div",{className:C.a.posts,children:o})]})})),Z=Object(z.a)(10),K=i.a.memo((function(t){return Object(j.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(j.jsx)("div",{children:Object(j.jsx)(B.a,{component:U.b,name:"newPostBody",placeholder:"Enter your post",validate:[z.b,Z]})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{children:"Add post"})})]})})),H=Object(J.a)({form:"profileAddNewPostForm"})(K),L=V,T=Object(v.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t(Object(k.a)(e))}}}))(L),G=s(335),Q=s.n(G),R=["profile","status","updateStatus","isOwner","updatePhoto"],W=function(t){var e=t.profile,s=t.status,o=t.updateStatus,a=t.isOwner,n=t.updatePhoto;Object(u.a)(t,R);return Object(j.jsxs)("div",{className:Q.a.main,children:[Object(j.jsx)(w,{updatePhoto:n,isOwner:a,profile:e,status:s,updateStatus:o}),Object(j.jsx)(T,{})]})},X=i.a.memo(W),Y=s(29),q=s(8),$=s(318),tt=function(t){Object(n.a)(s,t);var e=Object(r.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var t=Number(this.props.match.params.userId);if(t&&(this.props.getStatus(t),this.props.getProfileData(t)),!t){var e=this.props.autorizedUserId;this.props.getStatus(e),this.props.getProfileData(e),e||this.props.history.push("/login")}}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return console.log("renderProfileContainer"),Object(j.jsx)(X,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,updatePhoto:this.props.updatePhoto})}}]),s}(i.a.Component);e.default=Object(q.d)(Y.f,$.a,Object(v.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,autorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{setUserProfile:k.e,getProfileData:k.c,getStatus:k.d,updateStatus:k.h,updatePhoto:k.f}))(tt)}}]);
//# sourceMappingURL=4.75b21716.chunk.js.map